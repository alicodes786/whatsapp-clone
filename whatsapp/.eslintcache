[{"C:\\Users\\hmirz\\Downloads\\WhatsappClone\\whatsapp\\src\\index.js":"1","C:\\Users\\hmirz\\Downloads\\WhatsappClone\\whatsapp\\src\\App.js":"2","C:\\Users\\hmirz\\Downloads\\WhatsappClone\\whatsapp\\src\\Sidebar.js":"3","C:\\Users\\hmirz\\Downloads\\WhatsappClone\\whatsapp\\src\\SidebarChat.js":"4","C:\\Users\\hmirz\\Downloads\\WhatsappClone\\whatsapp\\src\\Chat.js":"5","C:\\Users\\hmirz\\Downloads\\WhatsappClone\\whatsapp\\src\\firebase.js":"6","C:\\Users\\hmirz\\Downloads\\WhatsappClone\\whatsapp\\src\\reportWebVitals.js":"7","C:\\Users\\hmirz\\Downloads\\WhatsappClone\\whatsapp\\src\\Login.js":"8","C:\\Users\\hmirz\\Downloads\\WhatsappClone\\whatsapp\\src\\StateProvider.js":"9","C:\\Users\\hmirz\\Downloads\\WhatsappClone\\whatsapp\\src\\reducer.js":"10"},{"size":703,"mtime":1608813180026,"results":"11","hashOfConfig":"12"},{"size":811,"mtime":1608813840393,"results":"13","hashOfConfig":"12"},{"size":1875,"mtime":1608814135868,"results":"14","hashOfConfig":"12"},{"size":1449,"mtime":1608998839829,"results":"15","hashOfConfig":"12"},{"size":3184,"mtime":1608997797919,"results":"16","hashOfConfig":"12"},{"size":630,"mtime":1608574487984,"results":"17","hashOfConfig":"12"},{"size":362,"mtime":499162500000,"results":"18","hashOfConfig":"12"},{"size":1039,"mtime":1608813481372,"results":"19","hashOfConfig":"12"},{"size":387,"mtime":1608812506353,"results":"20","hashOfConfig":"12"},{"size":377,"mtime":1608812940859,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"120sk4d",{"filePath":"25","messages":"26","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"24"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"24"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"24"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"24"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"C:\\Users\\hmirz\\Downloads\\WhatsappClone\\whatsapp\\src\\index.js",[],["47","48"],"C:\\Users\\hmirz\\Downloads\\WhatsappClone\\whatsapp\\src\\App.js",["49","50"],"import React ,{useState} from \"react\";\nimport './App.css';\nimport Sidebar from './Sidebar';\nimport Chat from './Chat';\nimport { Route, Switch } from \"react-router-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport Login from \"./Login\";\nimport { useStateValue } from \"./StateProvider\";\n\nfunction App(){\n  const[{ user }, dispatch] = useStateValue();\n\n  return (\n\n    <div className=\"app\">\n      { !user ? (\n        <Login />\n      ) : (\n       <div className=\"app__body\">\n         <Router>\n          <Sidebar />\n          <Switch>\n\n          <Route path=\"/rooms/:roomId\">\n            <Chat />\n          </Route>\n          <Route path=\"/\">\n            <Chat />\n          </Route>\n          </Switch>\n         </Router>\n\n        </div> \n      )}\n\n     \n    </div>\n  );\n}\n\nexport default App;\n","C:\\Users\\hmirz\\Downloads\\WhatsappClone\\whatsapp\\src\\Sidebar.js",["51"],"import React, {useState, useEffect} from 'react';\r\nimport { Avatar ,IconButton} from \"@material-ui/core\";\r\nimport DonutLargeIcon from \"@material-ui/icons/DonutLarge\";\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport './Sidebar.css'\r\nimport {SearchOutlined}  from '@material-ui/icons';\r\nimport SidebarChat from './SidebarChat';\r\nimport db from './firebase';\r\nimport { useStateValue } from './StateProvider';\r\n\r\n\r\nfunction Sidebar() {\r\n  const[Rooms ,setRooms]  = useState([]);\r\n  const [{ user },dispatch] = useStateValue();\r\n\r\n  useEffect(() =>{\r\n  const unsubscribe = db.collection('Rooms').onSnapshot(snapshot => (\r\n   setRooms(\r\n     snapshot.docs.map(doc => \r\n    ({\r\n       id: doc.id,\r\n       data: doc.data()\r\n    })\r\n    ))\r\n  ))\r\n  return () => {\r\n    unsubscribe();   //optimization step\r\n  }\r\n  },[]);\r\n\r\n  return (\r\n    <div className='sidebar'>\r\n      <div className=\"sidebar__header\">\r\n        <Avatar src = {user?.photoURL} />\r\n        <div className=\"sidebar__headerRight\">\r\n          <IconButton>\r\n          <DonutLargeIcon />\r\n          </IconButton>\r\n          <IconButton>\r\n          <ChatIcon />\r\n          </IconButton>\r\n         <IconButton>\r\n         <MoreVertIcon />\r\n         </IconButton>\r\n          \r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"sidebar__search\">\r\n         <div className = \"sidebar__searchContainer\">\r\n            <SearchOutlined  />\r\n            <input placeholder = \"Search or start a new chat\" type = \"text\" />\r\n        \r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"sidebar__chats\">\r\n             <SidebarChat addNewChat/>\r\n\r\n             {Rooms.map(room=> (\r\n               <SidebarChat key = {room.id} id = {room.id} name={room.data.name}/>\r\n             ))}\r\n          </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Sidebar;\r\n","C:\\Users\\hmirz\\Downloads\\WhatsappClone\\whatsapp\\src\\SidebarChat.js",[],"C:\\Users\\hmirz\\Downloads\\WhatsappClone\\whatsapp\\src\\Chat.js",["52"],"import React ,{useState, useEffect} from 'react';\r\nimport \"./Chat.css\";\r\nimport {Avatar, IconButton} from \"@material-ui/core\";\r\nimport { AttachFile, SearchOutlined,MoreVert } from '@material-ui/icons';\r\nimport InsertEmoticonIcon from \"@material-ui/icons/InsertEmoticon\";\r\nimport MicIcon from \"@material-ui/icons/Mic\";\r\nimport { useParams } from 'react-router-dom';\r\nimport db from './firebase';\r\nimport {useStateValue} from './StateProvider';\r\nimport firebase from 'firebase';\r\n\r\nfunction Chat() {\r\n\r\n  const [seed, setSeed] = useState(\"\");\r\n  const [input, setInput] = useState(\"\");\r\n  const {roomId} = useParams();\r\n  const [roomName, setRoomName] = useState('');\r\n  const [messages, setMessages] = useState([]);\r\n  const [{ user }, dispatch] = useStateValue();\r\n\r\n  useEffect(() =>{\r\n   if(roomId){\r\n     db.collection('Rooms')\r\n     .doc(roomId)\r\n     .onSnapshot((snapshot) => \r\n       setRoomName(snapshot.data().name));\r\n\r\n       db.collection(\"Rooms\").doc(roomId).collection(\"messages\").orderBy(\"timestamp\", \"asc\").onSnapshot(snapshot => (\r\n         setMessages(snapshot.docs.map(doc => doc.data()))\r\n       ))\r\n   }\r\n  },[roomId]);\r\n  \r\n  useEffect(() => {\r\n  setSeed(Math.floor(Math.random()*5000));\r\n  }, [roomId]);\r\n  \r\n  const sendMessage = (e) => {\r\n   e.preventDefault();\r\n   console.log(\"You typed >>>\", input);\r\n\r\n   db.collection('Rooms').doc(roomId).collection(\"messages\").add({\r\n     message : input,\r\n     name : user.displayName,\r\n     timestamp : firebase.firestore.FieldValue.serverTimestamp(),\r\n   })\r\n   setInput(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className = 'chat'>\r\n      <div className = \"chat__header\">\r\n        <Avatar src = {`https://avatars.dicebear.com/api/human/${seed}.svg`} />\r\n        <div className = \"chat__headerInfo\">\r\n            <h3>{roomName}</h3>\r\n            <p>\r\n              last seen {\" \"}\r\n              {new Date(messages[messages.length - 1]?.timestamp?.toDate()).toUTCString()}\r\n            </p>\r\n        </div>\r\n        <div className = \"chat__headerRight\">\r\n        <IconButton >\r\n          <SearchOutlined />\r\n          </IconButton>\r\n          <IconButton>\r\n          <AttachFile />\r\n          </IconButton>\r\n         <IconButton>\r\n         <MoreVert />\r\n         </IconButton>\r\n            \r\n        </div>\r\n      </div>\r\n      <div className = \"chat__body\">\r\n        {messages.map((message) => (\r\n            <p className = {`chat__message\r\n             ${message.name === user.displayName && 'chat__receiver'}`}>\r\n\r\n               <span className = \"chat__name\">{message.name}</span>\r\n\r\n               {message.message}<span className = \"chat__timeStamp\">\r\n              {new Date(message.timestamp?.toDate()).toUTCString()}\r\n            </span>\r\n            </p>\r\n        ))}\r\n        \r\n      </div>\r\n      <div className = \"chat__footer\">\r\n          <InsertEmoticonIcon />\r\n          <form>\r\n            <input value = {input} onChange = {(e) => setInput(e.target.value)}\r\n             placeholder = \"Type a message\" type = \"text\"/>\r\n            <button onClick = {sendMessage} type = \"submit\">Send a message</button>\r\n          </form>\r\n          <MicIcon />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Chat;\r\n","C:\\Users\\hmirz\\Downloads\\WhatsappClone\\whatsapp\\src\\firebase.js",[],"C:\\Users\\hmirz\\Downloads\\WhatsappClone\\whatsapp\\src\\reportWebVitals.js",[],"C:\\Users\\hmirz\\Downloads\\WhatsappClone\\whatsapp\\src\\Login.js",["53"],"import { Button } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { auth, provider } from './firebase';\r\nimport \"./Login.css\";\r\nimport { actionTypes } from './reducer';\r\nimport { useStateValue } from './StateProvider';\r\n\r\nfunction Login() {\r\n  const [{}, dispatch] = useStateValue();\r\n\r\n  const signIn = () =>{\r\n   auth.signInWithPopup(provider)\r\n   .then(result => { \r\n     dispatch({\r\n         type: actionTypes.SET_USER,\r\n         user: result.user,\r\n   })\r\n  })\r\n   .catch((error) => alert(error.message));\r\n  };\r\n  return (\r\n    <div className = \"login\">\r\n      <div className = \"login__container\">\r\n         <img \r\n          src = \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/WhatsApp.svg/400px-WhatsApp.svg.png\" alt = \"\" />\r\n           <div className = \"login__text\">\r\n              <h1>Sign in to Whatsapp</h1>\r\n            </div>\r\n\r\n            <Button  onClick = {signIn}>\r\n                Sign In With Google\r\n            </Button>\r\n      </div>\r\n     \r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","C:\\Users\\hmirz\\Downloads\\WhatsappClone\\whatsapp\\src\\StateProvider.js",[],"C:\\Users\\hmirz\\Downloads\\WhatsappClone\\whatsapp\\src\\reducer.js",[],{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","severity":1,"message":"59","line":1,"column":16,"nodeType":"60","messageId":"61","endLine":1,"endColumn":24},{"ruleId":"58","severity":1,"message":"62","line":11,"column":19,"nodeType":"60","messageId":"61","endLine":11,"endColumn":27},{"ruleId":"58","severity":1,"message":"62","line":15,"column":19,"nodeType":"60","messageId":"61","endLine":15,"endColumn":27},{"ruleId":"58","severity":1,"message":"62","line":19,"column":20,"nodeType":"60","messageId":"61","endLine":19,"endColumn":28},{"ruleId":"63","severity":1,"message":"64","line":9,"column":10,"nodeType":"65","messageId":"66","endLine":9,"endColumn":12},"no-native-reassign",["67"],"no-negated-in-lhs",["68"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'dispatch' is assigned a value but never used.","no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","no-global-assign","no-unsafe-negation"]